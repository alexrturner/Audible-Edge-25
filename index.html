<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AE25 STD</title>
    <link rel="stylesheet" href="assets/css/style.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="container" class="container">
      <section class="column a">
        <div class="row title">
          <div class="ae opacity-75">
            <!-- <img
              src="/assets/img/Swamp Icons/Swampy Icons-04.svg"
              alt="AE"
            /> -->
            <?xml version="1.0" encoding="UTF-8"?>
            <svg
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 1080 1080"
            >
              <path
                d="M599.91,1079.99c-16.77.31-34.99-5.13-50.39-16.5-31.86-23.52-67.4-39.41-103.9-54.1-39.89-16.06-71.54-43.04-89.91-81.65-20.11-42.24-47.11-80.13-70.56-120.24-20.48-35.03-47.94-44.99-97.74-29.62-7.82,2.41-14.77,7.48-22.3,10.93-28.38,13.01-67.95,5.73-92.28-17.86-24.08-23.35-29.08-51.53-18.15-82.62,2.72-7.73,6.97-14.92,10.44-22.4,9.76-21.05,19.2-42.26,29.31-63.14,7.16-14.81,14.19-29.84,23.08-43.63,15.23-23.63,15.35-46.77-.6-69.22-33.07-46.52-55.35-97.72-70.32-152.4-2.96-10.8-6.58-21.61-11.43-31.69C10.54,254.71,3.82,199.88.36,144.35c-1.6-25.69,2.23-50.71,9.78-75.34,9.79-31.94,31.78-51.93,62.2-63.77,19.32-7.52,38.72-7.49,56.63,3.61,14.03,8.7,27.2,18.78,40.67,28.36,20.19,14.36,39.23,30.69,60.66,42.89,70.76,40.29,132.47,90.97,186.68,151.34,22.03,24.53,46.63,46.8,70.42,69.73,5.9,5.69,13.11,10.08,19.89,14.83,27.82,19.51,57.57,22.5,87.63,6.86,44.09-22.95,88.19-46.06,130.77-71.59,19.73-11.83,36.14-29.26,53.6-44.66,18.04-15.92,34.47-33.82,53.54-48.36,19-14.48,39.39-27.99,60.97-38.17,51.98-24.53,103.12-49.93,147.04-87.65,9.12-7.83,19.63-15.38,32.68-8.81,8.02,4.04,8.62,20.04,1.62,35.42-9.2,20.22-24.07,36.16-40.93,50.29-32.39,27.15-66.44,51.99-105.02,69.93-22.88,10.64-41.76,26.18-60.71,42.49-33.6,28.93-68.01,57.12-103.84,83.25-44.98,32.8-91.69,63.28-137.75,94.62-19.91,13.54-24.96,27.09-15.62,50.15,8.43,20.82,18.06,41.22,28.16,61.31,25.1,49.94,41.24,103.03,54.35,156.87,7.41,30.4,10.2,61.96,14.13,93.12,1.2,9.49.98,19.83-1.56,28.98-10.95,39.46-11.92,79.86-12.98,120.24-.68,26.08-.53,52.19-.06,78.28,1,56.2-33.93,91.66-93.41,91.42ZM563.33,641.9c-1.25-8.52-1.5-13.05-2.61-17.37-8.4-32.58-16.93-65.13-25.54-97.65-.76-2.86-2.23-5.55-3.53-8.25-5.43-11.19-14.43-16.86-26.98-17.01-14.02-.17-27.2,2.7-37.63,12.52-8.17,7.7-16.08,15.81-23.1,24.53-16.18,20.08-34.88,37.11-56.9,50.76-11.48,7.12-22.82,14.73-33.17,23.35-38.7,32.25-45.11,70.51-19.74,113.79,6.06,10.35,13.21,20.18,18.21,31,25.67,55.53,74.97,86.61,124.14,117.19,20.28,12.61,38.7,3.01,43.72-20.95,3.66-17.44,5.52-35.5,5.82-53.32.7-40.78,5.04-80.3,24.32-117.47,7.08-13.64,9.5-29.66,12.99-41.12ZM144.84,307.65s-.06,0-.09,0c0,13.47,0,26.94,0,40.41-.02,40.17,11.8,76.3,35.46,109.14,14.78,20.51,33.83,33.08,58.87,31.54,18.42-1.13,37.22-5.44,54.61-11.72,38.93-14.07,77.09-30.22,115.53-45.62,5.58-2.23,11.32-4.39,16.36-7.55,11.96-7.51,15.01-18.69,7.98-30.84-3.31-5.72-8.45-10.44-12.92-15.46-12.94-14.52-26.86-28.28-38.68-43.64-10.75-13.97-22.96-25.38-38.16-34.37-12.9-7.63-26.44-15.3-36.86-25.74-26.48-26.53-58.61-44.56-90.78-62.48-41.29-23.01-69.07-7.09-71.18,40.22-.83,18.67-.14,37.4-.14,56.11Z"
              />
            </svg>
          </div>
          <span class="year opacity-75">'25</span>
        </div>

        <div class="row subtitle details">
          <h3>
            <span>Audible Edge</span>
            <span>Festival of</span><br />
            <span>Exploratory Music</span>
            <button id="content--info" class="btn--info">i</button>
          </h3>
        </div>

        <div class="row">
          <button id="btn-about"><h2>About</h2></button>
          <div class="info content" id="about">
            <p>
              <span>“this festival rocks”</span>, “world-class”, “too good to be
              true” - AE’24 punters
            </p>

            <p>
              Boorloo’s annual “experimental music bender” may now be entered
              into your calendars: Audible Edge ’25 will take place from April 3
              – 6.
            </p>
            <p>
              AE is a celebration of DIY and exploratory music culture. It has
              no genre affiliation and is home to just about every sort of sonic
              strangeness. It has a boundless affection for the unhinged, the
              silly and the peerlessly rigorous alike. It is about extraordinary
              music without frills, in a setting that strives to be fun,
              friendly, safe, and accessible.
            </p>
            <p>
              If 2024’s festival was something that shimmered and shined, AE’25
              is the same but dropped in the mud. There is a flute under water,
              a women’s wartime song, a tiny rattling machine, the crackle of
              burning tree-stumps, a vulture’s wings cutting the air, a binaural
              recording of high-heels sinking into wet grass, a slinky in the
              wind. In an unpredictable, compelling sequence. Ebbing and flowing
              between soft rests into the earth and Dionysian celebrations upon
              it.
            </p>
            <p>
              AE is about learning about where we are through those who have
              most courageously dreamed of how this time and place could sound.
              It’s about learning how sick our scene is by putting it on
              even-footing with international heavyhitters. And it’s about
              paying a lot of artists properly to do what they do.
            </p>
            <p>
              No formula changes in ’25. We haven’t run out of ideas yet. If you
              came before, you know what you’re in for, and you know its time to
              block out those dates (and maybe a couple of rest days after). If
              you haven’t been before, we’d love to welcome you in.
              <span class="signedsealeddelivered">C u there XO</span>
            </p>
          </div>
          <ul class="reviews">
            <li>
              “Audible Edge is definitely now a must-see event on the Perth
              music calendar.” (★★★★★, Jonathan Marshall, Limelight Magazine,
              2022)
            </li>
            <li>
              “Every aspect [of Nika Mo's Audible Edge performance] seemed so
              meticulously crafted and flawlessly executed” (Tiffany Ha, SeeSaw,
              2021)
            </li>
            <li>
              Local label Tone List is now the go-to organisation for Perth
              experimental music...as evident in the mixed bill programs “Every
              Which Way” and “Come What May”, Audible Edge 2021 was a triumph.
              (Jonathan Marshall, SeeSaw, 2021)
            </li>
            <li>
              “One must conclude then that Audible Edge has retained much of its
              rough-and-ready community origins, whilst growing in scale and
              significance.” (★★★★☆, Jonathan Marshall, Limelight Magazine,
              2019)
            </li>
          </ul>
        </div>

        <div class="img">
          <img src="/assets/img/Swamp Icons/Swampy Icons-01.svg" alt="icon1" />
        </div>
      </section>

      <section class="column b">
        <div class="row when details">
          <h3><span>Happening</span><br /><span>April 3–6</span></h3>
        </div>
        <div class="row space"></div>
        <div class="row">
          <button id="btn-accessibility"><h2>Accessibility</h2></button>
          <div class="content" id="accessibility">
            <p>
              Tone List aspires to make our events safer for the needs and
              cultures of people with disabilities. To this end, we are working
              with peer artist and consultant Patrick Gunasekera to explore ways
              that we can improve the accessibility of Audible Edge now and into
              the future.
            </p>
            <p>
              Accessibility details will always be listed on events, including
              information regarding: wheelchair accessibility, volume and sound
              density levels, spaciousness/crowdedness of venue, lighting,
              nature of terrain, ventilation level, whether alcohol is present
              or not, and the presence of specific accessibility provisions at
              an event (such as a low-sensory space).
            </p>
            <p>
              All audience members enter Audible Edge venues via the same
              entranceway. No strobes or fast flashing lights will be used at
              any point throughout the festival. Support workers, companion card
              holders and other caregivers may always enter events for free.
            </p>
            <p>
              Tone List have a small budget to facilitate accessibility
              requirements for our audience members. We have an existing
              partnership with Auslan Stage Left who can provide on-stage
              interpreting for events on request. We are happy to assist with
              accessible taxi bookings for safe transport to and from events.
              Other services or providers may be requested and we will do our
              best to accommodate you.
            </p>
            <p>
              We encourage you to get in contact as early as possible to ensure
              we can coordinate services in time for you.
            </p>
          </div>
        </div>
        <div class="img">
          <img src="/assets/img/Swamp Icons/Swampy Icons-02.svg" alt="icon2" />
        </div>
      </section>

      <section class="column c">
        <div class="row" id="settings">
          <p>
            <span class="grey">you are sharing this website with</span>
            <span id="sharing" class="gap">X</span>
            <span class="grey">other people,</span>
          </p>

          <div>
            <span class="grey">it is currently</span>
            <div class="time gap">
              <span class="hour"></span>:<span class="minute"></span>
            </div>
            <span class="grey">in boorloo,</span>
          </div>

          <p>
            <span class="grey">and you are viewing this website in</span>
            <span id="mode" class="gap">high contrast</span>
            <span class="grey">mode</span>

            <label class="switch">
              <input
                type="checkbox"
                id="toggle_switch"
                onclick="changeMode(this)"
              />
              <span class="slider round"></span>
            </label>
          </p>

          <div
            class="temp"
            style="position: relative; background-color: yellow"
          >
            <div
              class="control"
              style="display: flex; flex-direction: row; flex-wrap: wrap"
            >
              <input
                id="transformWeight"
                type="range"
                min="1"
                max="10"
                value="5"
                step="1"
              />
            </div>
            <button id="scrollMode">burrow scroll</button>
            <button id="noiseMode">no noise</button>
          </div>
        </div>
        <div class="row audio">
          <div class="actions">
            <div class="action-buttons">
              <img src="./assets/img/Swamp Icons/Swampy Icons-01.svg" alt="" />
              <div class="prompt--container">
                <button id="prompt--info" class="btn--info">i</button>
                <button id="prompt--input" onclick="userUpload()">
                  input?
                </button>
              </div>
            </div>

            <form
              id="audioUploadForm"
              enctype="multipart/form-data"
              method="POST"
              action="/upload"
            >
              <div class="action-buttons">
                <input
                  type="file"
                  name="audioFile"
                  id="audioFile"
                  accept="audio/"
                  required
                  style="display: none"
                />
                <button
                  id="prompt--upload"
                  type="button"
                  onclick="document.getElementById('audioFile').click()"
                >
                  Upload
                </button>
                <button type="submit" id="prompt--next">Next Prompt</button>

                <!-- <button type="submit" id="prompt--next">Submit</button> -->
              </div>
            </form>
          </div>

          <div class="img">
            <img
              src="/assets/img/Swamp Icons/Swampy Icons-03.svg"
              alt="icon3"
            />
          </div>
        </div>

        <div class="row">
          <button id="btn-acknowledgements"><h2>Acknowledgements</h2></button>
          <div class="content" id="acknowledgements">
            <p>
              Audible Edge is funded by the Western Australian government
              through the Department of Local Government, Sports and Cultural
              Industries, the City of Melville, and the City of Perth.
            </p>
            <p>
              Our international partners are the Goethe Institut, the Audio
              Foundation, Regione Emilia Romagna, the Swedish Arts Council
              Kulturrådet and a.hop.
            </p>
            <p>
              Tone List partners for the 2025 program are Goolugatup Heathcote,
              WA Museum Boola Bardip, the City of Fremantle, Wireless Hill
              Museum, STRUT Dance, The Blue Room Theatre, Astral Weeks, Sound
              Exploration Fremantle, PS, Safari Records, the Boorloo Heritage
              Festival and The Rechabite.
            </p>
            <p>
              Audible Edge is sponsored by Teeter Bakery, Pound Coffee &
              Strangelove.
            </p>
          </div>
          <div class="logos">
            <img src="/assets/img/TEETER_BAKERY_2GETHER_2.webp" alt="Teeter" />
          </div>
        </div>
        <footer>
          <ul class="footer-links">
            <li>
              <a href="#" class="footer-link">Instagram</a>
            </li>
            <li>
              <a href="#" class="footer-link">Facebook</a>
            </li>
            <li>
              <a href="#" class="footer-link">eMail Newsletter</a>
            </li>
            <li>
              <a href="#" class="footer-link">SMS Newsletter</a>
            </li>
            <li>
              <a href="#" class="footer-link">eMail</a>
            </li>
          </ul>
          <div class="space"></div>
          <div class="legal">
            <p>© Audible Edge 2025 brought to you by Tone List.</p>
            <p>
              Read the event
              <a href="#">Privacy Statement and Terms & Conditions</a>.
            </p>
            <p>Site by Alex Turner and Oliva Rawlings.</p>
          </div>
        </footer>
      </section>
    </div>

    <!-- <div>icons are living</div> -->

    <script>
      // get time in perth
      const getTime = () => {
        const date = new Date();
        return date.toLocaleTimeString("en-US", {
          hour: "2-digit",
          minute: "2-digit",
        });
      };
      function updateTime() {
        const time = getTime();
        document.querySelector(".hour").textContent = time.split(":")[0];
        document.querySelector(".minute").textContent = time.split(":")[1];
      }
      updateTime();

      // scrolls
      // default: burrow scroll, no noise floor
      let isParallaxScroll = false;
      let isNoiseEnabled = false;
      let scrollTimeouts = new Map();
      let currentPositions = new Map();

      function getRandomPosition(maxOffset) {
        return {
          x: Math.random() * maxOffset - maxOffset / 2,
          y: Math.random() * maxOffset - maxOffset / 2,
        };
      }

      function handleScroll(column) {
        const transformWeight =
          document.getElementById("transformWeight").value;
        const maxOffset = 1600;

        const img = column.querySelector(".img");
        if (!img) return;

        // clear current timeout (for this column)
        if (scrollTimeouts.has(column)) {
          clearTimeout(scrollTimeouts.get(column));
        }

        if (isParallaxScroll) {
          const scrollTop = column.scrollTop / transformWeight;
          const scrollTopWeighted = column.scrollTop / 80;
          img.style.transform = `translateY(${scrollTop}px) skew(${scrollTopWeighted}deg)`;
        } else {
          const timeout = setTimeout(() => {
            const newPos = getRandomPosition(maxOffset);
            currentPositions.set(img, newPos);
            img.style.transition =
              "transform 5s ease-in-out, filter 3s ease-in-out";
            img.style.transform = `translate(${newPos.x}px, ${newPos.y}px)`;
          }, 150);
          scrollTimeouts.set(column, timeout);
        }

        // noise floor by distance
        if (isNoiseEnabled) {
          const scrollDistance = Math.abs(column.scrollTop);
          const maxScroll = column.scrollHeight - column.clientHeight;
          const noiseIntensity = Math.min(scrollDistance / maxScroll, 1); // cap it at 1
          img.style.filter = `grayscale(${noiseIntensity}) contrast(${
            1 + noiseIntensity
          })`;
        } else {
          img.style.filter = "none";
        }
      }

      // on/off burrow
      document.getElementById("scrollMode").addEventListener("click", () => {
        document.querySelectorAll(".column").forEach((column) => {
          const img = column.querySelector(".img");
          if (!img) return;

          // current scroll position
          const transformWeight =
            document.getElementById("transformWeight").value;
          const scrollTop = column.scrollTop / transformWeight;
          const scrollTopWeighted = column.scrollTop / 80;

          // 1. enable transition
          img.style.transition = "transform 1s ease-out";

          // 2. toggle mode w delay
          setTimeout(() => {
            isParallaxScroll = !isParallaxScroll;

            // Apply the transform based on new mode
            img.style.transform = isParallaxScroll
              ? `translateY(${scrollTop}px) skew(${scrollTopWeighted}deg)`
              : "none";

            // 3. reset
            img.style.filter = "none";
            currentPositions.delete(img);
          }, 50);
        });

        scrollTimeouts.clear();
        document.getElementById("scrollMode").textContent = isParallaxScroll
          ? "burrow scroll"
          : "parallax scroll";
      });

      // on/off noise
      document.getElementById("noiseMode").addEventListener("click", () => {
        isNoiseEnabled = !isNoiseEnabled;
        document.querySelectorAll(".column .img").forEach((img) => {
          img.style.filter = "none";
        });
        //change text
        document.getElementById("noiseMode").textContent = isNoiseEnabled
          ? "++ noise"
          : "no noise";
      });

      document.addEventListener("DOMContentLoaded", function () {
        const columns = document.querySelectorAll(".column");
        columns.forEach((column) => {
          column.addEventListener("scroll", () => handleScroll(column));
        });
      });

      // scroll content into view

      document.getElementById("content--info").addEventListener("click", () => {
        const subtitles = [
          {
            element: document.getElementById("btn-about"),
            delay: 0, // immediate
            duration: 400, // fast scroll
          },
          {
            element: document.getElementById("btn-accessibility"),
            delay: 100, // wait a bit
            duration: 400, // medium scroll
          },
          {
            element: document.getElementById("btn-acknowledgements"),
            delay: 200, // wait longer
            duration: 400, // slow scroll
          },
        ];

        subtitles.forEach(({ element, delay, duration }) => {
          setTimeout(() => {
            element.scrollIntoView({
              behavior: "smooth",
              block: "start", // or center
            });

            setTimeout(() => {
              element.style.transition = "background-color 0.3s";
              element.style.backgroundColor = "yellow";

              setTimeout(() => {
                element.style.backgroundColor = "";
              }, 400);
            }, duration);
          }, delay);
        });
      });
    </script>

    <script defer>
      const prompts = [
        {
          text: 'go "Brr".',
          icon: "Swampy Icons-01.svg",
        },
        {
          text: "hum a tune that makes you smile loud, in your head.",
          icon: "Swampy Icons-02.svg",
        },
        {
          text: "go 'Go Go Gadget Copter'",
          icon: "Swampy Icons-03.svg",
        },
      ];
      // track remaining prompts
      let availablePrompts = [...prompts];
      let currentPromptIndex = 0;

      const getPrompt = () => {
        if (availablePrompts.length === 0) {
          // Optional: Reset the prompts when all are used
          availablePrompts = [...prompts];
          currentPromptIndex = 0;
        }
        return availablePrompts[currentPromptIndex];
      };

      const updatePromptDisplay = () => {
        const prompt = getPrompt();
        const promptElement = document.getElementById("prompt--input");
        const iconElement = document.querySelector(".action-buttons img");

        promptElement.textContent = prompt.text;
        iconElement.src = `/assets/img/Swamp Icons/${prompt.icon}`;
      };

      const userUpload = () => {
        if (availablePrompts.length > 0) {
          // rm current prompt
          availablePrompts.splice(currentPromptIndex, 1);

          // adjust index
          if (currentPromptIndex >= availablePrompts.length) {
            currentPromptIndex = 0;
          }

          updatePromptDisplay();
        }
      };

      const nextPrompt = () => {
        currentPromptIndex = (currentPromptIndex + 1) % availablePrompts.length;
        updatePromptDisplay();
      };
      // listen for next prompt
      document
        .getElementById("prompt--next")
        .addEventListener("click", nextPrompt);

      // burrowing
      function changeMode(button) {
        const modeSpan = document.getElementById("mode");
        if (modeSpan.textContent === "high contrast") {
          modeSpan.textContent = "onion skin";
        } else {
          modeSpan.textContent = "high contrast";
        }

        const images = document.querySelectorAll(".img img");
        images.forEach((img) => {
          img.style.display = img.style.display === "block" ? "none" : "block";
        });
        document.body.classList.toggle("burrowing");
      }
      /*
      function handleScroll() {
        const columns = document.querySelectorAll(".column");

        // const transformWeight = 80;

        const transformWeight =
          document.getElementById("transformWeight").value;

        // const logTransformWeight = Math.log(transformWeight);
        columns.forEach((column) => {
          const img = column.querySelector(".img");
          if (!img) return;

          const scrollTop = column.scrollTop / transformWeight;
          const scrollTopWeighted = column.scrollTop / 80;
          img.style.transform = `translateY(${scrollTop}px) skew(${scrollTopWeighted}deg)`;

          //img.style.transform = `translateY(${scrollTop}px)`;

          // scale the image
          //const scale = 1 + scrollTop / 1000;
          //img.style.transform = `scale(${scale})`;
        });
      }

      document.addEventListener("DOMContentLoaded", function () {
        const columns = document.querySelectorAll(".column");
        columns.forEach((column) => {
          column.addEventListener("scroll", handleScroll);
        });
      });
      */
    </script>
  </body>
</html>
